---
step: 6
name: Synthesis & Report
nextStep: null
---

# Step 6: Synthesis & Report

## STEP GOAL

Tá»•ng há»£p táº¥t cáº£ insights tá»« 4 phases, identify cross-references, prioritize findings, generate mining report, vÃ  save session logs.

---

## SYNTHESIS PROCESS

### 1. Gather All Insights

```yaml
# Collect from mining_state
total_insights:
  deep_questions: {count from step-02}
  challenges: {count from step-03}
  technical_findings: {count from step-04}
  production_concerns: {count from step-05}
  total: {sum}
```

### 2. Build Cross-Reference Map

Identify connections between findings:

```
DQ-001 (Assumption about JWT)
   â”œâ”€â”€ CH-001 (Challenge: no evidence for stateless)
   â”‚      â””â”€â”€ TF-001 (Code: JWT secret hardcoded)
   â”‚             â””â”€â”€ PC-001 (Production: security risk)
   â””â”€â”€ CH-002 (Challenge: complexity tradeoff)
          â””â”€â”€ TF-002 (Code: session management absent)
                 â””â”€â”€ PC-002 (Production: scalability)
```

### 3. Prioritize Findings

**Priority Matrix:**

| Priority | Criteria | Action Required |
|----------|----------|-----------------|
| **Critical** | Deployment blocker, security risk, data loss | Must fix before deploy |
| **High** | Significant risk, user impact | Fix in current sprint |
| **Medium** | Technical debt, future risk | Plan for next sprint |
| **Low** | Nice-to-have, optimization | Backlog |

### 4. Generate Summary

```
=== MINING SESSION SYNTHESIS ===

**Topic:** {session.topic}
**Date:** {session.date}
**Duration:** {calculated}

**Team Contributions:**
- ğŸ”® Socrates: {count} deep questions
- ğŸ”„ Contrarian: {count} challenges
- ğŸ” Sherlock: {count} technical findings
- ğŸš€ Ops: {count} production concerns

**Priority Breakdown:**
- Critical: {count}
- High: {count}
- Medium: {count}
- Low: {count}

**Deployment Blockers:** {count}
```

---

## REPORT GENERATION

### Mining Report Structure

```markdown
# Mining Report: {topic}

**Date:** {date}
**Session ID:** {date}-{topic_slug}

---

## Executive Summary

{2-3 sentences summarizing the key findings}

**Key Insight:** {The most important discovery}

**Recommendation:** {Top priority action}

---

## Critical Findings

### 1. {Finding Title}
- **Source:** {Agent who found it}
- **Type:** {Category}
- **Impact:** {User/business impact}
- **Evidence:** {Code reference or reasoning}
- **Action:** {Required action}

### 2. {Finding Title}
...

---

## Detailed Findings by Phase

### Phase 1: Deep Questions (ğŸ”® Socrates)

| ID | Question | Insight | Priority |
|----|----------|---------|----------|
| DQ-001 | ... | ... | ... |

### Phase 2: Reverse Thinking (ğŸ”„ Contrarian)

| ID | Challenge | Risk | Safeguard |
|----|-----------|------|-----------|
| CH-001 | ... | ... | ... |

### Phase 3: Code Mining (ğŸ” Sherlock)

| ID | Location | Finding | Impact |
|----|----------|---------|--------|
| TF-001 | file:line | ... | ... |

### Phase 4: Production Check (ğŸš€ Ops)

| ID | Area | Concern | Blocker? |
|----|------|---------|----------|
| PC-001 | ... | ... | Yes/No |

---

## Cross-Reference Map

{Visual representation of how findings connect}

---

## Recommendations

### Immediate Actions (Before Deploy)
1. {Action 1}
2. {Action 2}

### Short-term (This Sprint)
1. {Action 1}
2. {Action 2}

### Long-term (Backlog)
1. {Action 1}
2. {Action 2}

---

## Session Metadata

- **Phases Completed:** {list}
- **Total Turns:** {count}
- **Observer Interventions:** {count}
- **Session Duration:** {estimate}

---

*Generated by Mining Team on {date}*
```

---

## SAVE SESSION LOGS

### Files to Create

1. **Session Transcript:**
   ```
   {logs_path}/{date}-{topic_slug}.md
   ```
   Contains full dialogue history

2. **Mining Report:**
   ```
   {logs_path}/{date}-{topic_slug}-report.md
   ```
   Contains synthesized report

3. **Update Insights Index:**
   ```
   {logs_path}/insights-index.md
   ```
   Append key insights for cross-session learning

### Insights Index Entry

```markdown
## {date} - {topic}

**Key Insights:**
- {Critical insight 1}
- {Critical insight 2}

**Lessons Learned:**
- {Pattern or learning}

**Links:**
- [Full Report](./{date}-{topic_slug}-report.md)
- [Session Transcript](./{date}-{topic_slug}.md)

---
```

---

## PRESENT TO OBSERVER

### Final Display

```
=== ğŸ”®ğŸ”„ğŸ”ğŸš€ MINING SESSION COMPLETE ===

**Topic:** {topic}
**Date:** {date}

ğŸ“Š **Session Statistics:**
- Total Insights: {count}
- Critical Issues: {count}
- Deployment Blockers: {count}

ğŸ“ **Files Saved:**
- Session: ./logs/{date}-{topic_slug}.md
- Report: ./logs/{date}-{topic_slug}-report.md

ğŸ¯ **Top 3 Critical Findings:**

1. **{Finding 1 Title}**
   {Brief description}
   â†’ Action: {Required action}

2. **{Finding 2 Title}**
   {Brief description}
   â†’ Action: {Required action}

3. **{Finding 3 Title}**
   {Brief description}
   â†’ Action: {Required action}

ğŸ’¡ **Key Insight:**
{The single most important discovery from this session}

ğŸ“‹ **Next Steps:**
1. Review full report
2. Address deployment blockers
3. Plan sprint items

---
Thank you for mining with us! ğŸ™

Would you like to:
- [R] Review full report
- [S] Start new session
- [X] Exit

>
```

---

## POST-SESSION OPTIONS

### [R] Review Full Report

Display the complete mining report in terminal.

### [S] Start New Session

Reset mining_state and return to step-01-init.

### [X] Exit

```
Mining session saved successfully.

To view reports later:
  cat .claude/agents/microai/teams/mining-team/logs/{date}-{topic_slug}-report.md

To start a new session:
  /mine <topic>

Goodbye! ğŸ‘‹
```

---

## SUCCESS CRITERIA

- âœ… All insights collected and organized
- âœ… Cross-references identified
- âœ… Priorities assigned correctly
- âœ… Mining report generated
- âœ… Session transcript saved
- âœ… Insights index updated
- âœ… Clear next steps presented
- âœ… Observer satisfied with output

---

## ERROR HANDLING

**Incomplete Session:**
```
âš ï¸ Session incomplete. Some phases were skipped.

Completed phases: {list}
Skipped phases: {list}

Report will be generated vá»›i available insights.
Note: Findings may be less comprehensive.
```

**No Critical Findings:**
```
âœ… Good news! No critical issues found.

This could mean:
1. The codebase is in good shape
2. The topic was narrow in scope
3. Deeper investigation may be needed

Consider running another session vá»›i broader scope.
```

**Save Failed:**
```
âŒ Failed to save session logs.

Error: {error_message}

Session data is still in memory.
Please manually save before exiting.
```
